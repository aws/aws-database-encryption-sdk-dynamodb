// Code generated by smithy-go-codegen DO NOT EDIT.

package WrappedAwsCryptographyDbEncryptionSdkDynamoDbItemEncryptorService

import (
	"context"

	"github.com/aws/aws-cryptographic-material-providers-library/releases/go/smithy-dafny-standard-library/Wrappers"
	"github.com/aws/aws-database-encryption-sdk-dynamodb/AwsCryptographyDbEncryptionSdkDynamoDbItemEncryptorTypes"
	"github.com/aws/aws-database-encryption-sdk-dynamodb/awscryptographydbencryptionsdkdynamodbitemencryptorsmithygenerated"
)

type Shim struct {
	AwsCryptographyDbEncryptionSdkDynamoDbItemEncryptorTypes.IDynamoDbItemEncryptorClient
	client *awscryptographydbencryptionsdkdynamodbitemencryptorsmithygenerated.Client
}

func  WrappedDynamoDbItemEncryptor(inputConfig AwsCryptographyDbEncryptionSdkDynamoDbItemEncryptorTypes.DynamoDbItemEncryptorConfig) Wrappers.Result {
	var nativeConfig = awscryptographydbencryptionsdkdynamodbitemencryptorsmithygenerated.DynamoDbItemEncryptorConfig_FromDafny(inputConfig)
	var nativeClient, nativeError = awscryptographydbencryptionsdkdynamodbitemencryptorsmithygenerated.NewClient(nativeConfig)
	if nativeError != nil {
		return Wrappers.Companion_Result_.Create_Failure_(AwsCryptographyDbEncryptionSdkDynamoDbItemEncryptorTypes.Companion_Error_.Create_Opaque_(nativeError))
	}
	return Wrappers.Companion_Result_.Create_Success_(&Shim{client: nativeClient})
}

func (shim *Shim) EncryptItem(input AwsCryptographyDbEncryptionSdkDynamoDbItemEncryptorTypes.EncryptItemInput) Wrappers.Result {
	var native_request = awscryptographydbencryptionsdkdynamodbitemencryptorsmithygenerated.EncryptItemInput_FromDafny(input)
	var native_response, native_error = shim.client.EncryptItem(context.Background(), native_request)
	if native_error != nil {
		return Wrappers.Companion_Result_.Create_Failure_(awscryptographydbencryptionsdkdynamodbitemencryptorsmithygenerated.Error_ToDafny(native_error))
	}
	return Wrappers.Companion_Result_.Create_Success_(awscryptographydbencryptionsdkdynamodbitemencryptorsmithygenerated.EncryptItemOutput_ToDafny(*native_response))
}

func (shim *Shim) DecryptItem(input AwsCryptographyDbEncryptionSdkDynamoDbItemEncryptorTypes.DecryptItemInput) Wrappers.Result {
	var native_request = awscryptographydbencryptionsdkdynamodbitemencryptorsmithygenerated.DecryptItemInput_FromDafny(input)
	var native_response, native_error = shim.client.DecryptItem(context.Background(), native_request)
	if native_error != nil {
		return Wrappers.Companion_Result_.Create_Failure_(awscryptographydbencryptionsdkdynamodbitemencryptorsmithygenerated.Error_ToDafny(native_error))
	}
	return Wrappers.Companion_Result_.Create_Success_(awscryptographydbencryptionsdkdynamodbitemencryptorsmithygenerated.DecryptItemOutput_ToDafny(*native_response))
}
